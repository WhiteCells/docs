### 1.  使用默认初始化

在 C++11 之前，对非静态数据成员的初始化需要使用初始化列表，当类的数据成员和构造函数较多时，编写构造函数时会有冗余代码：

```cpp
class X {
public:
    X() : a_(0), b_(0.), c_("str") {}
    X(int a) : a_(a), b_(0.), c_("str") {}
    X(double b) : a_(0), b_(b), c_("str")  {}
    X(std::string c) : a_(0), b_(0.), c_(c)  {}

private:
    int a_;
    double b_;
    std::string c_;
};
```

C++11 标准提出了新的非静态数据成员初始化方法，即在声明非静态数据成员的同时直接使用 `=` 或 `{}` 进行初始化，在 C++11 之前只有类型为整形或枚举类型的**常量静态数据成员**可以在声明时初始化。

```cpp
class X {
public:
    X() {}
    X(int a) : a_(a) {}
    X(double b) : b_(b) {}
    X(std::string c) : c_(c) {}

private:
    int a_ = 0;
    double b_ {0.};
    std::string c_ {"str"};
};
```

非静态数据成员在声明默认初始化时需注意：

1. 不能使用 `()` 进行默认初始化，使用 `()` 初始化会将变量声明解析为函数声明
2. 不能使用 `auto` 进行声明和初始化非静态数据成员



### 2. 位域的默认初始化

> **位域**：将数据结构中成员字段的位数限制为特定的大小，位域的成员可以是任意整数类型（int、short、char 等），不能是浮点类型，不能对位域取地址（因为其地址可能不连续），位域的大小不能超过其类型的大小，一个无符号整形 4 位的位域可以表示的范围 $(0)(0000)\sim(2^4-1)(1111)$，一个有符号（最高位为符号位）整形 4 位的位域可以表示范围 $(-2^3)(1000)\sim(2^3-1)(0111)$

C++20 拓展了默认初始化，可以对数据成员的位域进行默认初始化：

```cpp
#include <iostream>

struct S {
    S() : z(7) {}
    int y : 4 = 11;
    int z : 4 {7};
};

int main(int argc, char *argv[]) {
    std::cout << S().z << std::endl;
    return 0;
}
```

